<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CYZGO 代购系统</title>
<style>
body{font-family:sans-serif;background:#f0f4f8;margin:0;padding:16px;}
h1,h2{color:#111;text-align:center;}
.card{background:#fff;padding:16px;margin:12px 0;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,0.1);}
input,select,button{width:100%;padding:10px;margin:6px 0;border-radius:8px;border:1px solid #ccc;}
button{background:#2563eb;color:#fff;font-weight:600;cursor:pointer;}
button:hover{transform:scale(1.05);}
#orderResult{display:none;}
</style>
</head>
<body>

<h1>CYZGO 代购系统 / CYZGO Shopping / CYZGO Худалдаа</h1>

<div class="card">
<h2>提交订单 / Submit Order / Захиалга</h2>
<form id="orderForm">
<label>商品链接 / Product Link / Бараа холбоос</label>
<input type="text" id="product" required>

<label>数量 / Quantity / Тоо ширхэг</label>
<input type="number" id="quantity" required>

<label>国家 / Country / Улс</label>
<input type="text" id="country" required>

<label>单价 / Price / Нэгж үнэ (¥)</label>
<input type="number" id="price" required>

<label>支付方式 / Payment / Төлбөрийн арга</label>
<select id="payment">
<option value="PayPal">PayPal</option>
<option value="USDT">USDT</option>
<option value="支付宝">Alipay</option>
<option value="微信">WeChat</option>
</select>

<label>物流方式 / Shipping / Хүргэлтийн арга</label>
<select id="shipping">
<option value="DHL">DHL</option>
<option value="UPS">UPS</option>
<option value="EMS">EMS</option>
<option value="空运">Air / Агаарын</option>
<option value="海运">Sea / Далайн</option>
</select>

<button type="submit">提交订单 / Submit / Илгээх</button>
</form>
</div>

<div id="orderResult" class="card"></div>

<script>
const apiUrl = "https://你的服务器域名:5000/new_order";

document.getElementById("orderForm").addEventListener("submit", async function(e){
    e.preventDefault();
    const data = {
        product: document.getElementById("product").value,
        quantity: document.getElementById("quantity").value,
        country: document.getElementById("country").value,
        price: document.getElementById("price").value,
        payment: document.getElementById("payment").value,
        shipping: document.getElementById("shipping").value
    };
    try {
        const res = await fetch(apiUrl,{
            method:"POST",
            headers:{"Content-Type":"application/json"},
            body:JSON.stringify(data)
        });
        const result = await res.json();
        if(result.status==="success"){
            const html = `
<h2>✅ 订单确认 / Order Confirm / Захиалгын баталгаа</h2>
<p>订单编号 / Order ID / Захиалгын дугаар: <strong>${result.order_id}</strong></p >
<p>商品 / Product / Бараа: ${result.product}</p >
<p>数量 / Quantity / Тоо ширхэг: ${result.quantity}</p >
<p>国家 / Country / Улс: ${result.country}</p >
<p>支付方式 / Payment / Төлбөрийн арга: ${result.payment}</p >
<p>物流方式 / Shipping / Хүргэлтийн арга: ${result.shipping_method}</p >
<p>手续费 / Fee / Үйлчилгээний шимтгэл: ¥${result.fee}</p >
<p>物流费 / Shipping Fee / Хүргэлтийн үнэ: ¥${result.shipping_fee}</p >
<p>总价 / Total / Нийт үнэ: ¥${result.total}</p >
<p>⚠️ 请妥善保存订单编号 / Keep your Order ID / Захиалгын дугаарыг хадгалаарай</p >`;
            const div=document.getElementById("orderResult");
            div.innerHTML=html;
            div.style.display="block";
            document.getElementById("orderForm").reset();
        }else{
            alert("❌ 提交失败 / Failed / Амжилтгүй：" + result.message);
        }
    }catch(err){
        alert("❌ 提交失败 / Failed / Амжилтгүй: " + err);
    }
});
</script>

</body>
</html>
